#+TITLE: Session Context - Active Session
#+DATE: 2026-01-23

* Current Session: Friday 2026-01-23 @ 11:28 CST

** Current Task
Btrfs expansion research complete. Architecture documented.

** Completed This Session
- Merged zfsbootmenu branch to main
- ratio booted successfully with ZFSBootMenu
- Created code review workflow (docs/project-workflows/code-review.org)
- Conducted senior developer code review, added 14 cleanup tasks
- Committed and pushed changes

*** Btrfs Expansion Research
- Researched btrfs best practices for Arch Linux
- Researched snapshot management: snapper, btrbk, snap-pac
- Researched GRUB integration: grub-btrfs, grub-btrfsd
- Researched multi-disk configurations: raid1, raid10 (raid5/6 unstable)
- Researched GUI tools: btrfs-assistant, snapper-gui, buttermanager
- Cloned 8 reference repositories to reference-repos/
- Created comprehensive research document: docs/research-btrfs-expansion.org

** Key Research Findings

*** Project Rename Recommendation
*archsnap* - Short, memorable, emphasizes snapshot capability

*** Btrfs Feature Parity
| ZFS Feature | Btrfs Equivalent |
|-------------+------------------|
| Native encryption | LUKS2 + dm-crypt |
| Mirror | btrfs raid1 |
| ZFSBootMenu | GRUB + grub-btrfs |
| sanoid | snapper + snap-pac |
| Datasets | Subvolumes |

*** Btrfs Limitations
- RAID 5/6 is UNSTABLE - do not offer
- No native encryption - must use LUKS
- Need GRUB for bootable snapshots (not systemd-boot)

*** Recommended Subvolume Layout
- @ → /
- @home → /home
- @snapshots → /.snapshots
- @var_log → /var/log
- @var_cache → /var/cache

*** Snapshot Stack
snapper + snap-pac + grub-btrfs + btrfs-assistant

** Reference Repos Cloned
- grub-btrfs (GRUB snapshot menu)
- easy-arch (automated installer)
- arch-btrfs-installation (manual guide)
- btrfs-assistant (GUI)
- snap-pac (pacman hooks)
- btrbk (snapshot/backup)
- buttermanager (GUI)
- alis (multi-fs installer)

** Files Created This Session
- docs/project-workflows/code-review.org
- docs/research-btrfs-expansion.org

** Next Steps
1. Review research document with Craig
2. Decide on project name
3. Decide on implementation approach
4. Create implementation tasks in todo.org
5. Begin Phase 1: Refactor current installer
